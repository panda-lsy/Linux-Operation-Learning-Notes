# 文件权限的管理

## 文件权限的概念

文件具有三个应用权限的用户类型，文件归某个用户所有，通常是文件的创建者。文件还归属于单个组，通常是创建该文件的用户主要组。

- 属主(user):这个文件属于那一个用户
- 属组(group):这个文件属于那一组
- 其他人(others):除了属主、属组以外的任何用户

## 文件具有三个应用权限的用户类别

每个类别都有读(r)、写(w)和执行(x)三种权限

| 权限符号 | 数字表示 | 对文件的意义 | 对目录的意义 |
| -------- | -------- | ------------ | ------------ |
| r (读)   | 4        | 可以查看文件内容 | 可以列出目录内容 |
| w (写)   | 2        | 可以修改文件内容 | 可以在目录中创建、删除文件 |
| x (执行) | 1        | 可以执行文件 | 可以进入目录 |

## 查看文件权限

使用 `ls -l` 命令可以查看文件权限，显示格式如下：

```
-rwxr-xr--  1 user group  4096  Jan 1 10:00  filename
```

第一列的10个字符表示：
- 第1个字符：文件类型（-:普通文件，d:目录，l:链接等）
- 第2-4个字符：属主(user)的权限(rwx)
- 第5-7个字符：属组(group)的权限(rwx)
- 第8-10个字符：其他人(others)的权限(rwx)

## 修改文件或者目录的权限

命令格式

```
chmod 选项 参数(文件或目录)
```

### 修改权限的方法

**1. 符号法**

格式：`chmod [ugoa][+-=][rwx] 文件或目录`

- u: 属主(user)
- g: 属组(group)
- o: 其他人(others)
- a: 所有人(all)
- +: 添加权限
- -: 移除权限
- =: 设置权限

例如：
```
chmod u+x file    # 给属主添加执行权限
chmod g-w file    # 移除属组的写权限
chmod o=r file    # 设置其他人只有读权限
chmod a+rx file   # 给所有人添加读和执行权限
```

### 修改所属主的权限

去掉所属主(user)单位权限 `wx`

```
chmod u-wx <文件名>
```

**2. 数字法**

使用数字表示权限：r=4, w=2, x=1，将三种权限的数字相加

格式：`chmod [属主权限][属组权限][其他人权限] 文件或目录`

例如：
```
chmod 755 file    # rwxr-xr-x
chmod 644 file    # rw-r--r--
chmod 700 file    # rwx------
```
