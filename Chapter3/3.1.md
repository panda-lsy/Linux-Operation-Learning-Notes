# 编辑文本文件

## 使用 VIM 编辑文件

Linux的一个重要原则是信息和配置通常都储存在基于文本的文件中，文本文件的优点在于易于查看和编辑。

Vim对于有经验的用户而言具有很高的可配置性和效率，其包含分屏编辑、颜色格式和突出显示编辑文本等功能。

## 优势

用户可以了解至少一种从 `Shell`提示符使用的文本编辑器。用户可以从终端窗口，或通过 `ssh`来编辑基于文本的配置文件。

实际上，服务器可能根本不需要运行图形桌面环境。

## Vim操作模式

Vim有三种主要操作模式：

1. **命令模式**（Command Mode）：默认模式，用于导航和操作文本
2. **编辑模式**（Insert/Edit Mode）：用于输入文本
3. **扩展命令模式**（Extended Command Mode）：用于执行保存、退出等高级操作

## 基本操作

### 模式切换
- vim以命令模式启动
- `i` 进入编辑模式（光标位置插入）
- `a` 进入编辑模式（光标后插入）
- `o` 在当前行下方新建一行并进入编辑模式
- `Esc` 从任何模式返回命令模式
- `:` 从命令模式进入扩展命令模式

### 导航命令（命令模式）
- `h`、`j`、`k`、`l`：左、下、上、右移动光标
- `w` 向前移动一个单词
- `b` 向后移动一个单词
- `0` 移至行首
- `$` 移至行尾
- `gg` 移至文件开头
- `G` 移至文件末尾
- `Ctrl+f` 向下翻页
- `Ctrl+b` 向上翻页

### 编辑命令（命令模式）
- `x` 删除光标下的字符
- `dd` 删除当前行
- `yy` 复制当前行
- `p` 粘贴
- `u` 撤销上一操作
- `Ctrl+r` 重做被撤销的操作

### 文件操作（扩展命令模式）
- `:w` 保存文件
- `:q` 退出
- `:wq` 保存并退出
- `:q!` 强制退出不保存
- `:wq!` 强制保存并退出

### 搜索和替换
- `/文本` 向前搜索
- `?文本` 向后搜索
- `n` 查找下一个匹配
- `N` 查找上一个匹配
- `:%s/旧文本/新文本/g` 全局替换

### 提示
任何时候多敲几下 `Esc` 总能返回初始命令模式。
